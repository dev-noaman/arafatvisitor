import{r as n,c as oe,j as e,t as ie,o as de,s as R,l as ce,_ as ue,b as C,u as xe}from"./index-Bsga-DUX.js";import"./HostForm-Byi3MfA8.js";import{B as me}from"./BulkImportModal-C3j-1vLV.js";import{E as he}from"./ErrorState-DcA1kojO.js";import{g as pe}from"./hosts-CCovMpe0.js";const ge=de({email:R().email("Invalid email address"),name:R().optional(),role:ue(["ADMIN","RECEPTION","HOST","STAFF"]),password:R().min(8,"Password must be at least 8 characters").optional().or(ce("")),hostId:R().optional()});function be({onSubmit:t,initialData:r,isLoading:l,hosts:c=[],isLoadingHosts:u}){const[h,x]=n.useState(!1),{register:p,handleSubmit:F,formState:{errors:i},reset:f,watch:y}=oe({resolver:ie(ge),defaultValues:r||{email:"",name:"",role:"STAFF",password:"",hostId:""}}),S=y("role"),w=async o=>{o.role!=="STAFF"&&delete o.hostId,r&&(!o.password||o.password.trim()==="")&&delete o.password,await t(o),f()};return e.jsxs("form",{onSubmit:F(w),className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),e.jsx("input",{...p("email"),type:"email",id:"email",placeholder:"Enter email address",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:l||!!r}),i.email&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:i.email.message})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),e.jsx("input",{...p("name"),type:"text",id:"name",placeholder:"Enter full name",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:l}),i.name&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:i.name.message})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700 mb-1",children:"Role *"}),e.jsxs("select",{...p("role"),id:"role",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:l,children:[e.jsx("option",{value:"STAFF",children:"Staff (Internal)"}),e.jsx("option",{value:"RECEPTION",children:"Reception"}),e.jsx("option",{value:"ADMIN",children:"Administrator"})]}),i.role&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:i.role.message})]}),S==="STAFF"&&e.jsxs("div",{children:[e.jsx("label",{htmlFor:"hostId",className:"block text-sm font-medium text-gray-700 mb-1",children:"Linked Host/Company *"}),e.jsxs("select",{...p("hostId"),id:"hostId",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:l||u,children:[e.jsx("option",{value:"",children:"Select a host..."}),c.map(o=>e.jsxs("option",{value:o.id,children:[o.name," — ",o.company]},o.id))]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Staff users can only see data belonging to their linked company"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:r?"New Password":"Password * (minimum 8 characters)"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{...p("password"),type:h?"text":"password",id:"password",placeholder:r?"Leave blank to keep current password":"Enter password",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 pr-10",disabled:l}),e.jsx("button",{type:"button",onClick:()=>x(!h),className:"absolute right-3 top-2.5 text-gray-500 hover:text-gray-700",tabIndex:-1,children:h?e.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-4.803c1.079-1.35 2.587-2.417 4.236-2.957"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.879 7.519c1.171-1.025 2.56-1.52 4.121-1.52 3.773 0 6.867 3.06 6.867 6.84 0 1.329-.196 2.605-.57 3.824m2.568-9.64A9 9 0 0121 12a9 9 0 01-9 9m0 0a9 9 0 01-9-9 9 9 0 019-9"})]}):e.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]}),i.password&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:i.password.message})]}),e.jsx("button",{type:"submit",disabled:l,className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 disabled:bg-gray-400 transition",children:l?"Saving...":r?"Update User":"Create User"})]})}const fe=async t=>{const r=new URLSearchParams;t!=null&&t.page&&r.append("page",t.page.toString()),t!=null&&t.limit&&r.append("limit",t.limit.toString()),t!=null&&t.search&&r.append("search",t.search),t!=null&&t.role&&r.append("role",t.role),t!=null&&t.status&&r.append("status",t.status),t!=null&&t.sortBy&&r.append("sortBy",t.sortBy),t!=null&&t.sortOrder&&r.append("sortOrder",t.sortOrder);const l=r.toString(),c=`/admin/api/users${l?`?${l}`:""}`;return await C.get(c)},ye=async t=>await C.post("/admin/api/users",t),je=async(t,r)=>await C.put(`/admin/api/users/${t}`,r),Ne=async t=>await C.delete(`/admin/api/users/${t}`),ve=async t=>await C.post(`/admin/api/users/${t}/deactivate`,{}),we=async t=>await C.post(`/admin/api/users/${t}/activate`,{}),W=t=>({ADMIN:"bg-red-100 text-red-800",RECEPTION:"bg-blue-100 text-blue-800",HOST:"bg-green-100 text-green-800",STAFF:"bg-purple-100 text-purple-800"})[t]||"bg-gray-100 text-gray-800",z=t=>({ADMIN:"Administrator",RECEPTION:"Reception",HOST:"Host",STAFF:"Staff"})[t]||t,q=t=>t?{ACTIVE:"bg-green-100 text-green-800",INACTIVE:"bg-gray-100 text-gray-800"}[t]||"bg-gray-100 text-gray-800":"bg-green-100 text-green-800",Q=t=>t?{ACTIVE:"Active",INACTIVE:"Inactive"}[t]||t:"Active",ke=["ADMIN","RECEPTION","HOST"],Se=["ACTIVE","INACTIVE"];function Ce({users:t,isLoading:r,pagination:l,onSearch:c,onRoleFilter:u,onStatusFilter:h,onPageChange:x,onEdit:p,onDelete:F,onToggleStatus:i}){const[f,y]=n.useState(""),[S,w]=n.useState(""),[o,I]=n.useState(""),D=s=>{const g=s.target.value;y(g),c(g)},E=s=>{w(s),u(s)},L=s=>{I(s),h(s)},U=()=>{l.page>1&&x(l.page-1)},O=()=>{l.page<l.totalPages&&x(l.page+1)};return e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsxs("div",{className:"p-6 border-b border-gray-200 space-y-4",children:[e.jsx("div",{children:e.jsx("input",{type:"text",placeholder:"Search by email or name...",value:f,onChange:D,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Role"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("button",{onClick:()=>E(""),className:`px-3 py-1 rounded-full text-sm font-medium transition ${S===""?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"All"}),ke.map(s=>e.jsx("button",{onClick:()=>E(s),className:`px-3 py-1 rounded-full text-sm font-medium transition ${S===s?"bg-blue-600 text-white":`${W(s)} hover:opacity-80`}`,children:z(s)},s))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Status"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("button",{onClick:()=>L(""),className:`px-3 py-1 rounded-full text-sm font-medium transition ${o===""?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"All"}),Se.map(s=>e.jsx("button",{onClick:()=>L(s),className:`px-3 py-1 rounded-full text-sm font-medium transition ${o===s?"bg-blue-600 text-white":`${q(s)} hover:opacity-80`}`,children:Q(s)},s))]})]})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-700",children:"User Name"}),e.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-700",children:"Email"}),e.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-700",children:"Role"}),e.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-700",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-700",children:"Created Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-700",children:"Actions"})]})}),e.jsx("tbody",{children:r?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-500",children:e.jsx("div",{className:"flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"})})})}):t.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-500",children:"No users found."})}):t.map(s=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50 transition",children:[e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 font-medium",children:s.name||"—"}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:s.email}),e.jsx("td",{className:"px-6 py-4 text-sm",children:e.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium ${W(s.role)}`,children:z(s.role)})}),e.jsx("td",{className:"px-6 py-4 text-sm",children:e.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium ${q(s.status)}`,children:Q(s.status)})}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:new Date(s.createdAt).toLocaleDateString()}),e.jsxs("td",{className:"px-6 py-4 text-sm space-x-1",children:[i&&s.status==="INACTIVE"&&e.jsx("button",{onClick:()=>i(s),className:"inline-flex items-center p-1.5 rounded-md text-green-600 hover:bg-green-50 transition",title:"Activate",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("button",{onClick:()=>p(s),className:"inline-flex items-center p-1.5 rounded-md text-blue-600 hover:bg-blue-50 transition",title:"Edit",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),e.jsx("button",{onClick:()=>F(s),className:"inline-flex items-center p-1.5 rounded-md text-red-600 hover:bg-red-50 transition",title:"Delete",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]},s.id))})]})}),!r&&t.length>0&&e.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",(l.page-1)*l.limit+1," to"," ",Math.min(l.page*l.limit,l.total)," of ",l.total," ","users"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:U,disabled:l.page===1,className:"px-3 py-1 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:text-gray-400 disabled:cursor-not-allowed transition",children:"Previous"}),e.jsx("div",{className:"flex items-center gap-1",children:(()=>{const s=l.page,g=l.totalPages,b=[];if(g<=7)for(let d=1;d<=g;d++)b.push(d);else{b.push(1),s>3&&b.push("...");for(let d=Math.max(2,s-1);d<=Math.min(g-1,s+1);d++)b.push(d);s<g-2&&b.push("..."),b.push(g)}return b.map((d,M)=>d==="..."?e.jsx("span",{className:"px-2 py-1 text-sm text-gray-500",children:"..."},`dots-${M}`):e.jsx("button",{onClick:()=>x(d),className:`px-3 py-1 rounded-lg text-sm font-medium transition ${d===s?"bg-blue-600 text-white":"border border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:d},d))})()}),e.jsx("button",{onClick:O,disabled:l.page===l.totalPages,className:"px-3 py-1 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:text-gray-400 disabled:cursor-not-allowed transition",children:"Next"})]})]})]})}function Fe({isOpen:t,onClose:r,onSubmit:l,userData:c,isLoading:u,hosts:h,isLoadingHosts:x}){return n.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.body.style.overflow="auto"}),[t]),t?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40",onClick:r}),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4 overflow-y-auto",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg max-w-md w-full my-8",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:c?"Edit User":"Create New User"}),e.jsx("button",{onClick:r,className:"text-gray-500 hover:text-gray-700","aria-label":"Close",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("div",{className:"px-6 py-4",children:e.jsx(be,{onSubmit:l,initialData:c,isLoading:u,hosts:h,isLoadingHosts:x})})]})})]}):null}function Ie({isOpen:t,user:r,onConfirm:l,onCancel:c,isLoading:u}){return n.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.body.style.overflow="auto"}),[t]),!t||!r?null:e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40",onClick:c}),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg max-w-sm w-full",children:[e.jsx("div",{className:"flex justify-center py-6",children:e.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-full bg-red-100",children:e.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})}),e.jsxs("div",{className:"text-center px-6 pb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Delete User Account"}),e.jsxs("p",{className:"text-gray-600 mb-2",children:["Are you sure you want to delete ",e.jsx("span",{className:"font-medium",children:r.email}),"?"]}),e.jsx("p",{className:"text-sm text-gray-500",children:"This action cannot be undone. The user will no longer have access to the system."})]}),e.jsxs("div",{className:"flex gap-2 px-6 py-4 border-t border-gray-200 bg-gray-50 rounded-b-lg",children:[e.jsx("button",{onClick:c,disabled:u,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-white disabled:bg-gray-100 transition",children:"Cancel"}),e.jsx("button",{onClick:l,disabled:u,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg text-sm font-medium hover:bg-red-700 disabled:bg-gray-400 transition",children:u?"Deleting...":"Delete"})]})]})})]})}function Me(){const{success:t,error:r}=xe(),[l,c]=n.useState([]),[u,h]=n.useState(!1),[x,p]=n.useState(null),[F,i]=n.useState(!1),[f,y]=n.useState(),[S,w]=n.useState(!1),[o,I]=n.useState(),[D,E]=n.useState(!1),[L,U]=n.useState(!1),[O,s]=n.useState(!1),[g,b]=n.useState([]),[d,M]=n.useState(!1),[,B]=n.useState(!1),[k,_]=n.useState({page:1,limit:10,total:0,totalPages:1}),[j,G]=n.useState(""),[N,J]=n.useState(""),[v,K]=n.useState(""),H=n.useCallback(async()=>{M(!0);try{const a=await pe({limit:100});b(a.data||[])}catch{}finally{M(!1)}},[]),m=n.useCallback(async(a=1,P="",$="",V="")=>{h(!0),p(null);try{const A={page:a,limit:k.limit};P&&(A.search=P),$&&(A.role=$),V&&(A.status=V);const T=await fe(A);c(T.data||[]),_({page:T.page||1,limit:T.limit||10,total:T.total||0,totalPages:T.totalPages||1})}catch{p("Failed to load users. Please check your connection and try again."),r("Failed to load users")}finally{h(!1)}},[k.limit,r]);n.useEffect(()=>{H(),m(1,"","","")},[H,m]);const X=a=>{G(a),m(1,a,N,v)},Y=a=>{J(a),m(1,j,a,v)},Z=a=>{K(a),m(1,j,N,a)},ee=a=>{m(a,j,N,v)},te=async a=>{U(!0);try{f?(await je(f.id,a),t("User updated successfully")):(await ye(a),t("User created successfully")),i(!1),y(void 0),await m(k.page,j,N,v)}catch{r(f?"Failed to update user":"Failed to create user")}finally{U(!1)}},se=async a=>{B(!0);try{a.status==="ACTIVE"?(await ve(a.id),t("User deactivated successfully")):(await we(a.id),t("User activated successfully")),await m(k.page,j,N,v)}catch{r("Failed to update user status")}finally{B(!1)}},re=async()=>{if(o){E(!0);try{await Ne(o.id),t("User deleted successfully"),w(!1),I(void 0),await m(k.page,j,N,v)}catch{r("Failed to delete user")}finally{E(!1)}}},le=a=>{y(a),i(!0)},ae=a=>{I(a),w(!0)},ne=()=>{i(!1),y(void 0)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Users Management"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage system users and access control"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>s(!0),className:"px-4 py-2 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 transition",children:e.jsxs("span",{className:"inline-flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),"Bulk Import"]})}),e.jsx("button",{onClick:()=>{y(void 0),i(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition",children:e.jsxs("span",{className:"inline-flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add User"]})})]})]}),x&&!u&&e.jsx(he,{title:"Failed to load users",message:x,onRetry:()=>m(k.page,j,N,v)}),!x&&e.jsx(Ce,{users:l,isLoading:u,pagination:k,onSearch:X,onRoleFilter:Y,onStatusFilter:Z,onPageChange:ee,onEdit:le,onDelete:ae,onToggleStatus:se}),e.jsx(Fe,{isOpen:F,onClose:ne,onSubmit:te,userData:f,isLoading:L,hosts:g,isLoadingHosts:d}),e.jsx(Ie,{isOpen:S,user:o,onConfirm:re,onCancel:()=>{w(!1),I(void 0)},isLoading:D}),e.jsx(me,{isOpen:O,onClose:()=>s(!1),onSuccess:()=>{t("Users imported successfully"),m(1,j,N,v)},importEndpoint:"/admin/api/users/import",title:"Bulk Import Users",entityLabel:"user",expectedColumns:e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Expected Columns:"}),e.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Name"})," - User name (required)"]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Email"})," - Email address (required)"]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Phone"})," - Phone number (optional)"]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Role"})," - ADMIN, RECEPTION, STAFF, or HOST (required)"]})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-3",children:"Passwords are auto-generated. A welcome email with password reset link will be sent to each user. Demo accounts (@arafatvisitor.cloud) and existing emails are automatically skipped. STAFF/HOST users get a linked host record auto-created."})]})})]})}export{Me as default};
