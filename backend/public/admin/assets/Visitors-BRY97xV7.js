import{r as a,c as ne,j as e,t as ie,o as de,s as L,l as ce,a as me,u as ue}from"./index-D0-OHiwP.js";import{g as xe}from"./lookups-N2DhjBJP.js";import{S as $}from"./SearchableSelect-D63tGwCQ.js";import{g as _,a as K,b as he,u as pe,c as ge,d as fe,r as be,e as ye,f as je}from"./visitors-G7qqT13R.js";import{Q as ve}from"./QrModal-BoZuqh6Y.js";import{E as Ne}from"./ErrorState-DbLmOyUk.js";import{g as we}from"./hosts-D5r7ZRy9.js";function U(){const n=new Date;return n.setMinutes(n.getMinutes()-n.getTimezoneOffset()),n.toISOString().slice(0,16)}const ke=de({visitorName:L().min(2,"Visitor name must be at least 2 characters"),visitorEmail:L().email("Invalid email address").optional().or(ce("")),visitorPhone:L().optional(),hostId:L().min(1,"Please select a host"),visitDate:L().min(1,"Visit date is required"),purpose:L().optional(),notes:L().optional()});function Se(n){const s=new Set(n.map(l=>l.company).filter(Boolean));return Array.from(s).sort()}function Ce({onSubmit:n,initialData:s,hosts:l,isLoading:c,isLoadingHosts:u}){var R,F,g;const[v,N]=a.useState([]),[M,w]=a.useState(!1),[x,k]=a.useState(""),S=a.useMemo(()=>{var t;const o=Se(l);return(t=s==null?void 0:s.host)!=null&&t.company&&!o.includes(s.host.company)?[...o,s.host.company].sort():o},[l,(R=s==null?void 0:s.host)==null?void 0:R.company]),h=a.useMemo(()=>{if(!x)return[];const o=l.filter(t=>t.company===x);return s!=null&&s.host&&s.host.company===x&&!o.some(m=>String(m.id)===String(s.host.id))?[s.host,...o]:o},[l,x,s==null?void 0:s.host]);a.useEffect(()=>{w(!0),xe().then(N).catch(()=>N([])).finally(()=>w(!1))},[]);const{register:p,handleSubmit:C,formState:{errors:i},reset:O,setValue:b,watch:E}=ne({resolver:ie(ke),defaultValues:s||{visitorName:"",visitorEmail:"",visitorPhone:"",hostId:"",visitDate:U(),purpose:"",notes:""}}),y=E("hostId");a.useEffect(()=>{if(y){const o=l.find(t=>String(t.id)===String(y))??(s==null?void 0:s.host);o!=null&&o.company&&k(o.company)}else k("")},[y,l,s==null?void 0:s.host]);const H=o=>{k(o),b("hostId","",{shouldValidate:!0})},T=async o=>{await n(o),O(),k("")};return e.jsxs("form",{onSubmit:C(T),className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"visitorName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Visitor Name *"}),e.jsx("input",{...p("visitorName"),type:"text",id:"visitorName",placeholder:"Enter visitor name",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:c}),i.visitorName&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:i.visitorName.message})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"visitorEmail",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),e.jsx("input",{...p("visitorEmail"),type:"email",id:"visitorEmail",placeholder:"Enter email address",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:c}),i.visitorEmail&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:i.visitorEmail.message})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"visitorPhone",className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),e.jsx("input",{...p("visitorPhone"),type:"tel",id:"visitorPhone",placeholder:"Enter phone number",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:c}),i.visitorPhone&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:i.visitorPhone.message})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"hostCompany",className:"block text-sm font-medium text-gray-700 mb-1",children:"Company *"}),e.jsx($,{options:S.map(o=>({value:o,label:o})),value:x,onChange:H,placeholder:u?"Loading companies...":S.length===0?"No companies":"Type to search company...",disabled:c||u||S.length===0,isLoading:u,error:!x&&typeof((F=i.hostId)==null?void 0:F.message)=="string"?i.hostId.message:void 0,emptyMessage:"No company found"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"hostId",className:"block text-sm font-medium text-gray-700 mb-1",children:"Host / Contact Person *"}),e.jsx($,{options:h.map(o=>({value:String(o.id),label:o.email?`${o.name} (${o.email})`:o.name})),value:y||"",onChange:o=>b("hostId",o,{shouldValidate:!0}),placeholder:x?h.length===0?"No team members":"Type to search host / contact...":"Select company first",disabled:c||u||!x||h.length===0,error:typeof((g=i.hostId)==null?void 0:g.message)=="string"?i.hostId.message:void 0,emptyMessage:"No host found"}),i.hostId&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:i.hostId.message})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"visitDate",className:"block text-sm font-medium text-gray-700 mb-1",children:"Visit Date *"}),e.jsx("input",{...p("visitDate"),type:"datetime-local",id:"visitDate",min:U(),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:c}),i.visitDate&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:i.visitDate.message})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"purpose",className:"block text-sm font-medium text-gray-700 mb-1",children:"Purpose of Visit"}),e.jsx($,{options:[{value:"",label:"— None —"},...v.map(o=>({value:o.label,label:o.label}))],value:E("purpose")||"",onChange:o=>b("purpose",o,{shouldValidate:!0}),placeholder:M?"Loading purposes...":"Type to search purpose...",disabled:c||M,emptyMessage:"No purpose found"}),i.purpose&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:i.purpose.message})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),e.jsx("textarea",{...p("notes"),id:"notes",placeholder:"Any additional notes",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:c}),i.notes&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:i.notes.message})]}),e.jsx("button",{type:"submit",disabled:c,className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 disabled:bg-gray-400 transition",children:c?"Saving...":s?"Update Visit":"Create Visit"})]})}const Ve=["APPROVED","CHECKED_IN","CHECKED_OUT"];function Ee({visitors:n,isLoading:s,pagination:l,onSearch:c,onStatusFilter:u,onPageChange:v,onEdit:N,onDelete:M,onApprove:w,onReject:x,onCheckout:k,onQr:S}){const{user:h}=me(),p=(h==null?void 0:h.role)==="ADMIN",C=(h==null?void 0:h.role)!=="RECEPTION",[i,O]=a.useState(""),[b,E]=a.useState(""),y=t=>{const m=t.target.value;O(m),c(m)},H=t=>{E(t),u(t)},T=()=>{l.page>1&&v(l.page-1)},R=()=>{l.page<l.totalPages&&v(l.page+1)},F=t=>t.status==="PENDING",g=t=>t.status==="PENDING",o=t=>t.status==="CHECKED_IN";return e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsxs("div",{className:"p-6 border-b border-gray-200 space-y-4",children:[e.jsx("div",{children:e.jsx("input",{type:"text",placeholder:"Search by name, email, phone, or purpose...",value:i,onChange:y,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Status"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("button",{onClick:()=>H(""),className:`px-3 py-1 rounded-full text-sm font-medium transition ${b===""?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"All"}),Ve.map(t=>e.jsx("button",{onClick:()=>H(t),className:`px-3 py-1 rounded-full text-sm font-medium transition ${b===t?"bg-blue-600 text-white":`${K(t)} hover:opacity-80`}`,children:_(t)},t))]})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-700",children:"Visitor Name"}),e.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-700",children:"Contact"}),e.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-700",children:"Host"}),e.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-700",children:"Purpose"}),e.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-700",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-700",children:"Actions"})]})}),e.jsx("tbody",{children:s?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-500",children:e.jsx("div",{className:"flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"})})})}):n.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-500",children:"No visitors found."})}):n.map(t=>{var m;return e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50 transition",children:[e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 font-medium",children:t.visitorName}),e.jsxs("td",{className:"px-6 py-4 text-sm text-gray-600",children:[e.jsx("div",{children:t.visitorPhone||"—"}),e.jsx("div",{className:"text-xs text-gray-500",children:t.visitorEmail||"—"})]}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:((m=t.host)==null?void 0:m.name)||"—"}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:t.purpose||"—"}),e.jsx("td",{className:"px-6 py-4 text-sm",children:e.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium ${K(t.status)}`,children:_(t.status)})}),e.jsxs("td",{className:"px-6 py-4 text-sm space-x-1",children:[C&&F(t)&&w&&e.jsx("button",{onClick:()=>w(t),className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium text-green-600 hover:bg-green-50 transition",children:"Approve"}),C&&g(t)&&x&&e.jsx("button",{onClick:()=>x(t),className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium text-red-600 hover:bg-red-50 transition",children:"Reject"}),(t.status==="APPROVED"||t.status==="CHECKED_IN")&&S&&e.jsx("button",{onClick:()=>S(t),className:"inline-flex items-center p-1.5 rounded-md text-indigo-600 hover:bg-indigo-50 transition",title:"QR Code",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"})})}),o(t)&&k&&e.jsx("button",{onClick:()=>k(t),className:"inline-flex items-center p-1.5 rounded-md text-orange-600 hover:bg-orange-50 transition",title:"Checkout",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})}),e.jsx("button",{onClick:()=>N(t),className:"inline-flex items-center p-1.5 rounded-md text-blue-600 hover:bg-blue-50 transition",title:"Edit",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),p&&e.jsx("button",{onClick:()=>M(t),className:"inline-flex items-center p-1.5 rounded-md text-red-600 hover:bg-red-50 transition",title:"Delete",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]},t.id)})})]})}),!s&&n.length>0&&e.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",(l.page-1)*l.limit+1," to"," ",Math.min(l.page*l.limit,l.total)," of"," ",l.total," visitors"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:T,disabled:l.page===1,className:"px-3 py-1 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:text-gray-400 disabled:cursor-not-allowed transition",children:"Previous"}),e.jsx("div",{className:"flex items-center gap-1",children:(()=>{const t=l.page,m=l.totalPages,j=[];if(m<=7)for(let d=1;d<=m;d++)j.push(d);else{j.push(1),t>3&&j.push("...");for(let d=Math.max(2,t-1);d<=Math.min(m-1,t+1);d++)j.push(d);t<m-2&&j.push("..."),j.push(m)}return j.map((d,B)=>d==="..."?e.jsx("span",{className:"px-2 py-1 text-sm text-gray-500",children:"..."},`dots-${B}`):e.jsx("button",{onClick:()=>v(d),className:`px-3 py-1 rounded-lg text-sm font-medium transition ${d===t?"bg-blue-600 text-white":"border border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:d},d))})()}),e.jsx("button",{onClick:R,disabled:l.page===l.totalPages,className:"px-3 py-1 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:text-gray-400 disabled:cursor-not-allowed transition",children:"Next"})]})]})]})}function Ie({isOpen:n,onClose:s,onSubmit:l,visitData:c,hosts:u,isLoading:v,isLoadingHosts:N}){return a.useEffect(()=>(n?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.body.style.overflow="auto"}),[n]),n?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40",onClick:s}),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4 overflow-y-auto",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg max-w-md w-full my-8",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:c?"Edit Visitor":"Register New Visitor"}),e.jsx("button",{onClick:s,className:"text-gray-500 hover:text-gray-700","aria-label":"Close",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("div",{className:"px-6 py-4",children:e.jsx(Ce,{onSubmit:l,initialData:c,hosts:u,isLoading:v,isLoadingHosts:N})})]})})]}):null}function Pe({isOpen:n,visitor:s,onConfirm:l,onCancel:c,isLoading:u}){return a.useEffect(()=>(n?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.body.style.overflow="auto"}),[n]),!n||!s?null:e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40",onClick:c}),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg max-w-sm w-full",children:[e.jsx("div",{className:"flex justify-center py-6",children:e.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-full bg-red-100",children:e.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})}),e.jsxs("div",{className:"text-center px-6 pb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Delete Visitor Record"}),e.jsxs("p",{className:"text-gray-600 mb-2",children:["Are you sure you want to delete ",e.jsx("span",{className:"font-medium",children:s.visitorName}),"'s record?"]}),e.jsx("p",{className:"text-sm text-gray-500",children:"This action cannot be undone."})]}),e.jsxs("div",{className:"flex gap-2 px-6 py-4 border-t border-gray-200 bg-gray-50 rounded-b-lg",children:[e.jsx("button",{onClick:c,disabled:u,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-white disabled:bg-gray-100 transition",children:"Cancel"}),e.jsx("button",{onClick:l,disabled:u,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg text-sm font-medium hover:bg-red-700 disabled:bg-gray-400 transition",children:u?"Deleting...":"Delete"})]})]})})]})}function Oe(){const{success:n,error:s}=ue(),[l,c]=a.useState([]),[u,v]=a.useState([]),[N,M]=a.useState(!1),[w,x]=a.useState(null),[k,S]=a.useState(!1),[h,p]=a.useState(!1),[C,i]=a.useState(),[O,b]=a.useState(!1),[E,y]=a.useState(),[H,T]=a.useState(!1),[R,F]=a.useState(!1),[,g]=a.useState(!1),[o,t]=a.useState(null),[m,j]=a.useState(!1),[d,B]=a.useState({page:1,limit:10,total:0,totalPages:1}),[I,q]=a.useState(""),[P,G]=a.useState(""),W=a.useCallback(async()=>{S(!0);try{const r=await we({limit:1e3});v(r.data||[])}catch{s("Failed to load hosts")}finally{S(!1)}},[s]),f=a.useCallback(async(r=1,V="",Q="")=>{M(!0),x(null);try{const A={page:r,limit:d.limit};V&&(A.search=V),Q&&(A.status=Q);const z=await he(A);c(z.data||[]),B({page:z.page||1,limit:z.limit||10,total:z.total||0,totalPages:z.totalPages||1})}catch{x("Failed to load visitors. Please check your connection and try again."),s("Failed to load visitors")}finally{M(!1)}},[d.limit,s]);a.useEffect(()=>{W(),f(1,"","")},[W,f]);const D=r=>{q(r),f(1,r,P)},J=r=>{G(r),f(1,I,r)},X=r=>{f(r,I,P)},Y=async r=>{F(!0);try{C?(await pe(C.id,r),n("Visitor updated successfully")):(await ge(r),n("Visitor registered successfully")),p(!1),i(void 0),await f(d.page,I,P)}catch{s(C?"Failed to update visitor":"Failed to register visitor")}finally{F(!1)}},Z=async r=>{g(!0);try{await fe(r.id),n("Visitor approved successfully"),await f(d.page,I,P)}catch{s("Failed to approve visitor")}finally{g(!1)}},ee=async r=>{g(!0);try{await be(r.id),n("Visitor rejected"),await f(d.page,I,P)}catch{s("Failed to reject visitor")}finally{g(!1)}},te=async r=>{g(!0);try{await ye(r.id),n("Visitor checked out successfully"),await f(d.page,I,P)}catch{s("Failed to checkout visitor")}finally{g(!1)}},se=r=>{var V,Q,A;t({id:r.id,sessionId:"",visitorName:r.visitorName,visitorCompany:(V=r.host)==null?void 0:V.company,visitorPhone:r.visitorPhone||"",visitorEmail:r.visitorEmail,hostName:((Q=r.host)==null?void 0:Q.name)||"",hostCompany:((A=r.host)==null?void 0:A.company)||"",purpose:r.purpose||"",checkInAt:r.checkInTime||""}),j(!0)},oe=async()=>{if(E){T(!0);try{await je(E.id),n("Visitor record deleted successfully"),b(!1),y(void 0),await f(d.page,I,P)}catch{s("Failed to delete visitor")}finally{T(!1)}}},re=r=>{i(r),p(!0)},le=r=>{y(r),b(!0)},ae=()=>{p(!1),i(void 0)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Visitors Management"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Register and manage visitor check-ins"})]}),e.jsx("button",{onClick:()=>{i(void 0),p(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition",children:e.jsxs("span",{className:"inline-flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Register Visitor"]})})]}),w&&!N&&e.jsx(Ne,{title:"Failed to load visitors",message:w,onRetry:()=>f(d.page,I,P)}),!w&&e.jsx(Ee,{visitors:l,isLoading:N,pagination:d,onSearch:D,onStatusFilter:J,onPageChange:X,onEdit:re,onDelete:le,onApprove:Z,onReject:ee,onCheckout:te,onQr:se}),e.jsx(Ie,{isOpen:h,onClose:ae,onSubmit:Y,visitData:C,hosts:u,isLoading:R,isLoadingHosts:k}),e.jsx(ve,{visitor:o,isOpen:m,onClose:()=>{j(!1),t(null)}}),e.jsx(Pe,{isOpen:O,visitor:E,onConfirm:oe,onCancel:()=>{b(!1),y(void 0)},isLoading:H})]})}export{Oe as default};
