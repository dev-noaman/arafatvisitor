import{r as n,j as r}from"./index-DhWX03Cy.js";function k({options:o,value:u,onChange:f,placeholder:g="Type to search...",disabled:m=!1,isLoading:d=!1,error:b,emptyMessage:p="No results found",maxVisible:h=50}){const[l,s]=n.useState(""),[x,c]=n.useState(!1),i=n.useRef(null),t=o.find(e=>e.value===u);n.useEffect(()=>{s(t?t.label:"")},[u,t==null?void 0:t.label]),n.useEffect(()=>{function e(j){i.current&&!i.current.contains(j.target)&&c(!1)}return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);const a=l&&(t==null?void 0:t.label)!==l?o.filter(e=>e.label.toLowerCase().includes(l.toLowerCase())):o,y=e=>{f(e.value),s(e.label),c(!1)},w=e=>{s(e.target.value),c(!0),e.target.value||f("")},v=()=>{c(!0),u||s("")};return r.jsxs("div",{ref:i,className:"relative",children:[r.jsx("input",{type:"text",value:l,onChange:w,onFocus:v,placeholder:d?"Loading...":g,disabled:m||d,readOnly:o.length===0&&!d,className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${b?"border-red-300":"border-gray-300"}`}),r.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:r.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":!0,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),x&&a.length>0&&r.jsxs("ul",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:[a.slice(0,h).map(e=>r.jsx("li",{onClick:()=>y(e),className:`px-3 py-2 cursor-pointer hover:bg-blue-50 text-sm ${e.value===u?"bg-blue-50 font-medium":""}`,children:e.label},e.value)),a.length>h&&r.jsxs("li",{className:"px-3 py-2 text-xs text-gray-400 text-center",children:["Type to narrow down ",a.length," results..."]})]}),x&&l&&a.length===0&&r.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg px-3 py-3 text-sm text-gray-500 text-center",children:p})]})}export{k as S};
